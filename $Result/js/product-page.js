"use strict";function clickOutside(e){document.addEventListener("click",(t=>{let r=t.target,s=null;"cart"===e?(s=cartCloseBtn.contains(r)||cartBody.contains(r)||cartIcon.contains(r),!s&&cartBody.classList.contains("_active")&&(document.body.classList.remove("_stop-scroll"),cartBody.classList.remove("_active"),header.classList.remove("_eclipse"))):"burger"===e&&(s=burgerBody.contains(r)||burgerIcon.contains(r),!s&&burgerBody.classList.contains("_active")&&(document.body.classList.remove("_stop-scroll"),burgerBody.classList.remove("_active"),burgerIcon.classList.remove("_active"),header.classList.remove("_eclipse")))}))}window.addEventListener("DOMContentLoaded",(()=>{}));let header=document.querySelector(".js-header"),burgerIcon=document.querySelector(".js-burger"),burgerBody=document.querySelector(".js-burger-body"),headerHeight=header.clientHeight,scrollPos=window.pageYOffset;function toFixHeader(){scrollPos=window.pageYOffset,scrollPos>headerHeight?header.classList.add("_fixed"):0==scrollPos&&header.classList.remove("_fixed")}burgerIcon.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.toggle("_stop-scroll"),burgerBody.classList.toggle("_active"),burgerIcon.classList.toggle("_active"),header.classList.toggle("_eclipse"),clickOutside("burger")})),window.addEventListener("scroll",(()=>{toFixHeader()})),toFixHeader();let cartIcon=document.querySelector(".header__cart-icon"),cartBody=document.querySelector(".js-cart-header"),cartCloseBtn=cartBody.querySelector(".js-cart-close"),cartPreviewBtn=document.querySelector(".preview-cart__btn");cartIcon.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.add("_stop-scroll"),cartBody.classList.add("_active"),header.classList.add("_eclipse"),clickOutside("cart"),cartCloseBtn.addEventListener("click",(e=>{e.preventDefault(),document.body.classList.remove("_stop-scroll"),cartBody.classList.remove("_active"),header.classList.remove("_eclipse")}))})),cartPreviewBtn.addEventListener("click",(e=>{e.preventDefault();let t=cartPreviewBtn.getAttribute("href"),r=document.querySelector(`${t}`);document.body.classList.remove("_stop-scroll"),cartBody.classList.remove("_active"),header.classList.remove("_eclipse"),r.scrollIntoView({behavior:"smooth",block:"start"})}));let pageURl,navLinks=document.querySelectorAll(".js-nav-link"),viewportWidth=window.innerWidth;for(let e of navLinks)e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("href");function s(e){viewportWidth<=768&&header.classList.remove("_fixed"),document.querySelector(`${e}`).scrollIntoView({behavior:"smooth",block:"start"})}window.location.href.match(/index/g)?s(r):new Promise(((e,t)=>{window.location.href="index.html",window.addEventListener("load",(()=>{e(r)}))})).then((e=>{console.log("worked"),s(e)})).catch((e=>{console.log("Error:",e)}))}));import{uploadProductContent}from"../../Modules/product-content-module.js";import{productSliders}from"../../Modules/product-sliders.js";import{sliderCounter}from"../../Modules/components.js";!async function(){let e=await fetch("Json/products.json");try{!function(e){let t=new URL(window.location.href).searchParams.get("id");e.forEach((e=>{if(e.url==t){let t=e,r=t.name;document.title=r,uploadProductContent(t),productSliders(),function(){function e(e){}document.querySelector(".product-intro__content").querySelector(".js-counter-slider")&&sliderCounter(".js-counter-slider",10,"0.3s",e)}(),function(){let e=document.querySelector(".tastes-product__wrapper"),t=document.querySelectorAll(".tastes-product__slide");e.addEventListener("click",(e=>{if(e.target.closest(".tastes-product__slide")){let r=e.target.closest(".tastes-product__slide");t.forEach((e=>{e.classList.remove("_checked")})),r.classList.add("_checked")}}))}()}}))}((await e.json()).products)}catch{alert("Something was wrong...")}}();let tabs=document.querySelector(".product-tabs__nav"),startTab=tabs.querySelector('[href="#description"]'),tabsPages=document.querySelectorAll(".product-tabs__page"),tabsLinks=tabs.querySelectorAll(".product-tabs__link"),tabsBar=document.querySelector(".product-tabs__bar"),thumb=document.querySelector(".product-tabs__thumb"),tabWidth=null,tabPosX=null,barPosX=null;function switchTab(e){if(e){e.classList.add("_active"),barPosX=tabsBar.offsetLeft,tabPosX=e.offsetLeft,tabWidth=e.clientWidth,thumb.style.cssText=`\n            width: ${tabWidth}px;\n            transform: translate(${tabPosX-barPosX}px, 0);\n        `;let t=e.getAttribute("href"),r=document.querySelector(`${t}`);tabsPages.forEach((e=>{e.classList.remove("_active")})),r.classList.add("_active")}}tabs.addEventListener("click",(e=>{if(e.preventDefault(),e.target.closest(".product-tabs__nav")){let t=e.target;t.classList.contains("product-tabs__link")&&(tabsLinks.forEach((e=>{e.classList.remove("_active")})),switchTab(t))}})),switchTab(startTab);
